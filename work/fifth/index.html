<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>jQuery</title>
    <link rel="stylesheet" href="../../common/css/reset.css">
    <link rel="stylesheet" href="../../common/css/base.css">
    <link rel="stylesheet" href="./css/style.css">
  </head>
  <body>
    <div class="wrapper">
      <div class="contents">
        <p class="title">Frameworks</p>
        <div class="select-wrapper">
          <select class="select">
            <option value="all">All</option>
            <option value="css">CSS</option>
            <option value="javascript">JavaScript</option>
            <option value="php">PHP</option>
            <option value="ruby">Ruby</option>
            <option value="python">Python</option>
            <option value="scala">Scala</option>
          </select>
        </div>
        <ul class="list">
          <li data-category-type="css">
            <a href="http://getbootstrap.com/" class="article">
              <i class="article-icon is-bootstrap"></i>
              <p class="article-name">Bootstrap</p>
            </a>
          </li>
          <li data-category-type="ruby">
            <a href="http://rubyonrails.org/" class="article">
              <i class="article-icon is-ruby-on-rails"></i>
              <p class="article-name">Ruby on Rails</p>
            </a>
          </li>
          <li data-category-type="php">
            <a href="https://phalconphp.com/ja/" class="article">
              <i class="article-icon is-phalcon"></i>
              <p class="article-name">Phalcon</p>
            </a>
          </li>
          <li data-category-type="javascript">
            <a href="https://facebook.github.io/react/" class="article">
              <i class="article-icon is-react"></i>
              <p class="article-name">React</p>
            </a>
          </li>
          <li data-category-type="scala">
            <a href="https://www.playframework.com/" class="article">
              <i class="article-icon is-play"></i>
              <p class="article-name">Play</p>
            </a>
          </li>
          <li data-category-type="javascript">
            <a href="http://aurelia.io/" class="article">
              <i class="article-icon is-aurelia"></i>
              <p class="article-name">Aurelia</p>
            </a>
          </li>
          <li data-category-type="python">
            <a href="http://djangoproject.jp/" class="article">
              <i class="article-icon is-django"></i>
              <p class="article-name">Django</p>
            </a>
          </li>
          <li data-category-type="css">
            <a href="http://www.material-ui.com/#/" class="article">
              <i class="article-icon is-material-ui"></i>
              <p class="article-name">Material UI</p>
            </a>
          </li>
          <li data-category-type="php">
            <a href="https://laravel.com/" class="article">
              <i class="article-icon is-laravel"></i>
              <p class="article-name">Laravel</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <script src="../../common/js/jquery.js"></script>
    <script>
      // 今回やるのはソート機能です。
      // selectボックスをクリックして言語を選び、その言語と関係のあるリストだけが表示されるプログラムです。
      // [処理の流れ]
      // ・セレクトボックスをクリックする。....$().click()
      //    ※select要素のvalueの変化がイベントのトリガーなのでクリックは関係ない。
      // ・セレクトボックスのvalueとliのdata-category-typeが一致しているものをだけ表示させる。
      // ・Allを選択した場合のみ全てのliを表示させる。
      // [使うメソッド]
      // .show() 要素を表示させる
      // .hide() 要素を隠す
      // .val() 要素のvalueを取得
      // .data('~') DOM要素にあるdata-~を取得できる
      // .change() セレクトボックスの値の変更をキャッチする関数
      // $().each() DOM要素を1つずつループ処理をする（ループ内で$(this)を使うと要素がひとつずつ取得できる）
      $(function() {
        $('.select').change(function(){
          var value = $(this).val();
          console.log(value);
          $('.list').find('li').hide();
          if(value === 'all'){
            $('.list').find('li').show();
          }else {
            $('.list').find('li').each(function(index, category) {
              if(value === $(category).data('category-type')){
                $(category).show();
                console.log(category);
              }
            });
          }
        });

        var test = ['gizumo', 'yahoo', 'google', 'FireFox', 'Safari', 'InternetExplorer'];
        $.each(test, function(index, company) {
          console.log(index);      
          console.log(company);
          console.log(index, company);
        });
        

        
        
        // $('.select').change(function() {
        //   var value = $(this).val();
        //   $('.list').find('li').hide();
        //   if(value === 'all'){
        //     $('.list').find('li').show();
        //   }else {
        //     $('.list').find('li').each(function(num, category) {
        //       if(value === $(category).data('category-type')){      
        //         $(category).show();
        //       };
        //     });
        //   };
        // });          
      });
      
      // セレクトボックス要素の値選択をchangeをイベントとして設定。
      // 選択されたvalueを変数valueの値として取得。
      // 一度全てのListクラスの<li>要素をhideで消去。
      // valueの値がallのoptionを選んだ時に全ての<li>要素を再表示。
      // それ以外の時(all以外を選んだ時)、<li>のそれぞれのdataを文字列として取得。
      // each.(第1引数, 第2引数)を使って一つ一つの値を取得。
      // 第1引数⇒インデックス番号、第2引数⇒要素として定義される。
      // 第2引数であるcategoryは要素として取得されるので、valueと等しい値を持つdataを含む要素を取得出来るようになる。
      // (第二引数に指定した要素).data('category-type')で取得したデータを持つ要素を取得。
      // valueの値が取得したdataと厳密等価演算子で合致することを条件として設定。
      // 合致した要素のみを取得した要素をshowで再表示。

      // == 等価演算子
      // 入力されたデータをコンピュータ上で文字列を数値に変換して比較する。
      // 文字列'10'と、数値10は両方とも数値の形式に変換される。
      // '10' == 10。。。10 == 10。。。となるため等しい値として評価される(true)
      // === 厳密等価演算子
      // データを変換せずに比較する。文字列は文字列で、数値は数値で比較する。
      // '10' === 10。。。左は文字列、右は数値なのでデータ型(データの形式)が違う。そのため違う値として評価される(false)
      // データ型を比較して値を比較評価する。    

      // $('.select').change(function() {
      //       var value =[];
      //       value.push($(this).find('option:selected').val());              
      //     });          
      //       var category = [];
      //       $('.list').find('li').each(function() {
      //       category.push($(this).data('category-type'));
      //     if(value != 'all') {
      //        $('.list').find('li').hide().filter(function(){
      //        }).show();
      //          console.log(value)
      //          console.log(category);
      //     }else if(value = 'all'){
      //         $('.list').find('li').show();
      //         console.log('value')
      //     };
      //   });
    </script>
  </body>
  </html>
